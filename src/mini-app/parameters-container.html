<link rel="import" href="sliders-zone.html">
<link rel="import" href="paths-container.html">
<link rel="import" href="back-ground.html">

<link rel="import" href="draggable-behavior.html">

<dom-module id="parameters-container">
  <template>
    <style>
      :host{
        display: block;
        width: 300px;
        position: absolute;
      }
    </style>
    <back-ground height="[[height]]"></back-ground>
    <paths-container paths="{{paths}}"
                     height="{{height}}"
                     parameters-collection="{{parametersCollection}}"
                     ></paths-container>
    <sliders-zone objects="{{objects}}"
                  on-set-height="setHeight"
                  parameters-collection="{{parametersCollection}}"
                  ></sliders-zone>
  </template>
  <script>
    Polymer({
      is:'parameters-container',
      behaviors: [DraggableBehavior],
      properties:{
        objects:{
          type:Array,
        },
        height:{
          type:Number,
        }
      },
      setHeight:function(e){
        this.set('height',e.detail.height);
      },
      // handleNewPath:function(e){
      //   if(!this._pathsEmpty()){
      //     if(!this._havePath(e.detail.path)){
      //       this.push('paths',e.detail.path)
      //     }else{
      //       this._updateCoordsBundle(e.detail.path)
      //     }
      //   }else{
      //     this.push('paths',e.detail.path)
      //   }
      // },
      // _havePath:function(path){
      //   for(var i=0;i<this.paths.length;i++){
      //     if(this.get('uid',this.paths[i]) == path.uid)
      //       return this.paths[i]
      //   }
      //   return null;
      // },
      // _pathsEmpty:function(){
      //   return (this.paths.length == 0)
      // },
      // _updateCoordsBundle:function(path){
      //   for(var i=0;i<this.paths.length;i++){
      //     if(this.get('uid',this.paths[i]) == path.uid){
      //       this.set('coordsBundle',path.coordsBundle,this.paths[i])
      //       this.set('selected',path.selected,this.paths[i])
      //       this.notifyPath('paths.'+i+'.coordsBundle');
      //       this.notifyPath('paths.'+i+'.selected');
      //     }
      //   }
      // }
    })
  </script>
</dom-module>
